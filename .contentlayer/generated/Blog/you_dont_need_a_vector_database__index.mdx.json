{
  "title": "You (Probably) Don’t Need an Embedding Database",
  "publishedAt": "2024-01-29T18:30:00.000Z",
  "updatedAt": "2024-02-01T18:30:00.000Z",
  "description": "Vector Databases are in vogue, but do you really need one to support your AI powered Search?",
  "image": {
    "filePath": "../public/blogs/emile-perron-xrVDYZRGdw4-unsplash.jpg",
    "relativeFilePath": "../../public/blogs/emile-perron-xrVDYZRGdw4-unsplash.jpg",
    "format": "jpeg",
    "height": 1080,
    "width": 1920,
    "aspectRatio": 1.7777777777777777,
    "blurhashDataUrl": "data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABA0lEQVR4nCXKQStDAQDA8Xdwkra31us95eKAyDO82WyTq1hxwMHB6ZnZo3d0WXFQO6zWrsZRUfZKaHnWa1taL1khciA5IcV3+Ku9+09QFAUtksAwDBp2mevzY9yqxefbPVubGdogPJnANE2cy1Nc54Lvj2d+v175+3n3wLgWJZ3OUKtYvLTq7G5nKeT2yWd3PBCeiJHS16lXyjy5Vc6umnSJAXz+AIIsy4yExlheWsE6OuCxaWM7t0TUUQ9IksTg0DCzcwus6RsU8zmcRovV+SL+gIgQDAbp7etnZjrURrqewq7dUTo8Ya9QQhBFkc4OHzfuA1J3D7H4FMnkIlo0zoCq8g/3w47L28yCrAAAACt0RVh0Q3JlYXRpb24gVGltZQBUaHUsIDE2IE1heSAyMDI0IDE2OjA0OjA0IEdNVNOgPx8AAAAtdEVYdFNvZnR3YXJlAGdpdGh1Yi5jb20vbWF0bWVuL0ltYWdlU2NyaXB0IHYxLjMuMBjGn/YAAAAASUVORK5CYII="
  },
  "isPublished": true,
  "author": "Justin Donaldson",
  "tags": [
    "Embedding",
    "Search",
    "Open Source\r"
  ],
  "body": {
    "raw": "\r\n## Vector Databases are in vogue, but do you really need one to support your AI powered Search?\r\n\r\nIf you’ve been paying attention to the recent advances in Large Language Models (LLM), you’ve noticed that a whole new crop of startups emerged to provide search over embeddings.\r\n\r\n<Image\r\n  src=\"/blogs/vectoDatabaseBrands.png\"\r\n  width=\"718\"\r\n  height=\"404\"\r\n  alt=\"vectoDatabaseBrands\"\r\n  sizes=\"100vw\"\r\n/>\r\n_Vector libraries and databases [source](https://blog.det.life/why-you-shouldnt-invest-in-vector-databases-c0cd3f59d23c)_\r\n\r\nSearch over embeddings is a very different process than search over a database of documents. Embedding search uses a vector space representation of an image or document that has been created by a corresponding model, rather than an inverted index of terms and documents. Search in a vector space is typically handled with _[nearest neighbor](https://en.wikipedia.org/wiki/K-nearest_neighbors_algorithm_)_ search, which returns the embeddings of the closest records to the target record. This technique is much more intensive to calculate than a simple inverted index lookup, and accordingly databases need to make trade offs for precision/recall in order to provide reasonable performance over large sets of data.\r\n\r\n### Embedding Databases for Smaller Datasets\r\n\r\nHere at Hushh we were suprised to realize that there wasn’t a good option for smaller/portable embeddings for databases. Many modeling tasks rely on smaller and more domain-specific datasets to perform domain-specific tasks. For instance, image recognition models might need to index the products of a given storefront. There may be many thousand products, but often not the millions of products that would necessitate a standalone database. Furthermore, a standalone database would need to be running at all times, incurring a large one-time cost for any sort of embedding search functionality.\r\n\r\nIf one doesn’t have a lot of data, and doesn’t want to pay the maintenance fee on hosted embedding search, using an embedding search database is costly overkill, but what are the options?\r\n\r\nMany embedding databases and models use python, so accordingly, the embeddings can be exported in the [python pickle](https://docs.python.org/3/library/pickle.html) format. However, the pickle format is unsafe, making it a risky bet for production systems.\r\n\r\nJSON formats can also be used for pickling data, but JSON requires all of the embedding data to be decoded and loaded into memory. This process can take a significant amount of time, making it costly to load/unload embedding datasets on the fly.\r\n\r\n[Messagepack](https://msgpack.org/index.html) is another solid option, optimized for speed and portability. Originally, this was the format that we were likely to use. However, in the back of our minds we wondered, can we make it even faster?\r\n\r\n# Introducing The Hushh Catalog Format\r\nWe introduce the _[Hushh Catalog Format](https://github.com/hushh-labs/hushh-vibe-catalog)_ _(HCF)_, a file format that is optimized for speedy (and lazy) loading of embeddings from disk.\r\n\r\nTo understand the performance benefits of the HCF format, we’ll use this [fashion dataset](https://www.kaggle.com/datasets/paramaggarwal/fashion-product-images-small) comprising ~44K product images, representative of the fashion offerings of a mid-to-large size department store.\r\n\r\nWe’ll also take figures and data from this [data science notebook](https://github.com/hushh-labs/hushh-vibe-catalog/blob/main/notebooks/Create%20Catalog.ipynb) that contains the result of the analysis.\r\n\r\nReact, developed by Facebook (now Meta), is a flexible library for building user interfaces. It focuses on the view layer, providing a simple and efficient way to create interactive components.\r\n\r\n## Comparisons\r\nFor the purposes of comparison, we’ll generate embedding vectors in three different formats:\r\n\r\n- **JSON**: A popular option for web development due to it being human-readable\r\n- **Msgpack**: A schema-less binary format that is a good option for smaller/faster serialization\r\n- **Hushh Catalog Format**: A format with a schema designed especially for storing product information and metadata.\r\n\r\n### File Size\r\n<div\r\n  style={{\r\n    display: 'flex', \r\n    justifyContent: 'center', \r\n    alignItems: 'center', \r\n    minHeight: '50vh', \r\n  }}\r\n>\r\n  <Image\r\n    src=\"/blogs/fileSizeVector.png\"\r\n    width={518}\r\n    height={304}\r\n    alt=\"Image\"\r\n    sizes=\"80vw\"\r\n  />\r\n</div>\r\n### File Size Comparison\r\nFile sizes for smaller/embedded databases can add a lot of overhead for search. In our first comparison we look at the file size from our example dataset and see that HCF is half the size of messagepack, and a less than 25% the size of a comparable json format.\r\n\r\nFile size matters a lot for databases, particularly since files like messagepack and json need to be loaded fully into memory. If you have a bigger file format, your program will use more memory to store it internally, which adds overhead for resource usage and time.\r\n\r\n### Loading Time Comparison\r\nInterestingly enough, the file size difference becomes even more pronounced when the loading time is compared. The HCF format is a whopping 20,000 times faster at loading the embedding data than JSON, and also beats msgpack by over an order of magnitude.\r\n\r\n***How is this possible?***\r\n\r\nThe answer is that the Hushh Catalog Format reader doesn’t read in the data all at once. Instead, it streams it in as necessary directly from disk without needing to parse the entire file. This technique of lazy loading enables the Hushh Catalog Format to all but eliminate a startup delay when loading embedding data.\r\n\r\n***What was used to build the Hushh Catalog Format?***\r\n\r\nThe Hushh Catalog Format is built on top of [flatbuffers](https://flatbuffers.dev/). Flatbuffers is similar to [protobuffers](https://protobuf.dev/), except it’s designed for larger amounts of data that can be streamed lazily. Flatbuffers excel at loading densely packed numeric and textual data in a structured format. The structured format requires a schema, and here’s the current [schema for Hushh Catalog Format](https://github.com/hushh-labs/hushh-vibe-catalog/blob/main/schemas/hushh-catalog.fbs)\r\n\r\nUsing the schema, we can use flatbuffers to generate python [runtime classes](https://github.com/hushh-labs/hushh-vibe-catalog/blob/main/python/src/hushh/hcf/Catalog.py) that stream the file into memory, along with some [helper constructor methods](https://github.com/hushh-labs/hushh-vibe-catalog/blob/main/python/src/hushh/catalog.py). There’s runtime classes for [Swift](https://github.com/hushh-labs/hushh-vibe-catalog/blob/main/swift/Sources/hushh-catalog_generated.swift) available as well, with more to come.\r\n\r\n## What can you do with the Hushh Catalog Format?\r\n\r\nFor now, the format is geared towards providing catalog search services. Accordingly, information pertaining to products are supported. As we expand the scope of the format, we will enable more fine-tuned schemas for a growing number of open source personal data formats.\r\n\r\n#### Vibe Search\r\nWe’re using the HCF format as a way of providing portable embedding indexes that are available from the phone or from a web server. Our Vibe search service will use it under the hood, making state of the art embedding search more easily available to everyone!\r\n\r\n## Related Reading\r\nIf you’re interested in optimized file protocols specifically for machine learning artifacts, check this [overview of GGUF by Vicki Boykis](https://vickiboykis.com/2024/02/28/gguf-the-long-way-around/).\r\n",
    "code": "var Component=(()=>{var un=Object.create;var j=Object.defineProperty;var ln=Object.getOwnPropertyDescriptor;var hn=Object.getOwnPropertyNames;var cn=Object.getPrototypeOf,bn=Object.prototype.hasOwnProperty;var B=(u,n)=>()=>(n||u((n={exports:{}}).exports,n),n.exports),fn=(u,n)=>{for(var b in n)j(u,b,{get:n[b],enumerable:!0})},ve=(u,n,b,g)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let w of hn(n))!bn.call(u,w)&&w!==b&&j(u,w,{get:()=>n[w],enumerable:!(g=ln(n,w))||g.enumerable});return u};var mn=(u,n,b)=>(b=u!=null?un(cn(u)):{},ve(n||!u||!u.__esModule?j(b,\"default\",{value:u,enumerable:!0}):b,u)),_n=u=>ve(j({},\"__esModule\",{value:!0}),u);var xe=B((xn,Ne)=>{Ne.exports=React});var De=B(q=>{\"use strict\";(function(){\"use strict\";var u=xe(),n=Symbol.for(\"react.element\"),b=Symbol.for(\"react.portal\"),g=Symbol.for(\"react.fragment\"),w=Symbol.for(\"react.strict_mode\"),G=Symbol.for(\"react.profiler\"),J=Symbol.for(\"react.provider\"),K=Symbol.for(\"react.context\"),k=Symbol.for(\"react.forward_ref\"),I=Symbol.for(\"react.suspense\"),A=Symbol.for(\"react.suspense_list\"),C=Symbol.for(\"react.memo\"),z=Symbol.for(\"react.lazy\"),Ce=Symbol.for(\"react.offscreen\"),X=Symbol.iterator,Te=\"@@iterator\";function Se(e){if(e===null||typeof e!=\"object\")return null;var t=X&&e[X]||e[Te];return typeof t==\"function\"?t:null}var N=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function f(e){{for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];Oe(\"error\",e,r)}}function Oe(e,t,r){{var i=N.ReactDebugCurrentFrame,d=i.getStackAddendum();d!==\"\"&&(t+=\"%s\",r=r.concat([d]));var l=r.map(function(o){return String(o)});l.unshift(\"Warning: \"+t),Function.prototype.apply.call(console[e],console,l)}}var Fe=!1,Pe=!1,je=!1,Ie=!1,Ae=!1,Z;Z=Symbol.for(\"react.module.reference\");function ze(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===g||e===G||Ae||e===w||e===I||e===A||Ie||e===Ce||Fe||Pe||je||typeof e==\"object\"&&e!==null&&(e.$$typeof===z||e.$$typeof===C||e.$$typeof===J||e.$$typeof===K||e.$$typeof===k||e.$$typeof===Z||e.getModuleId!==void 0))}function Me(e,t,r){var i=e.displayName;if(i)return i;var d=t.displayName||t.name||\"\";return d!==\"\"?r+\"(\"+d+\")\":r}function Q(e){return e.displayName||\"Context\"}function p(e){if(e==null)return null;if(typeof e.tag==\"number\"&&f(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case g:return\"Fragment\";case b:return\"Portal\";case G:return\"Profiler\";case w:return\"StrictMode\";case I:return\"Suspense\";case A:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case K:var t=e;return Q(t)+\".Consumer\";case J:var r=e;return Q(r._context)+\".Provider\";case k:return Me(e,e.render,\"ForwardRef\");case C:var i=e.displayName||null;return i!==null?i:p(e.type)||\"Memo\";case z:{var d=e,l=d._payload,o=d._init;try{return p(o(l))}catch{return null}}}return null}var v=Object.assign,E=0,ee,ne,te,ae,re,ie,se;function oe(){}oe.__reactDisabledLog=!0;function Ve(){{if(E===0){ee=console.log,ne=console.info,te=console.warn,ae=console.error,re=console.group,ie=console.groupCollapsed,se=console.groupEnd;var e={configurable:!0,enumerable:!0,value:oe,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}E++}}function We(){{if(E--,E===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:v({},e,{value:ee}),info:v({},e,{value:ne}),warn:v({},e,{value:te}),error:v({},e,{value:ae}),group:v({},e,{value:re}),groupCollapsed:v({},e,{value:ie}),groupEnd:v({},e,{value:se})})}E<0&&f(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var M=N.ReactCurrentDispatcher,V;function T(e,t,r){{if(V===void 0)try{throw Error()}catch(d){var i=d.stack.trim().match(/\\n( *(at )?)/);V=i&&i[1]||\"\"}return`\n`+V+e}}var W=!1,S;{var Ye=typeof WeakMap==\"function\"?WeakMap:Map;S=new Ye}function de(e,t){if(!e||W)return\"\";{var r=S.get(e);if(r!==void 0)return r}var i;W=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var l;l=M.current,M.current=null,Ve();try{if(t){var o=function(){throw Error()};if(Object.defineProperty(o.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(o,[])}catch(y){i=y}Reflect.construct(e,[],o)}else{try{o.call()}catch(y){i=y}e.call(o.prototype)}}else{try{throw Error()}catch(y){i=y}e()}}catch(y){if(y&&i&&typeof y.stack==\"string\"){for(var s=y.stack.split(`\n`),m=i.stack.split(`\n`),h=s.length-1,c=m.length-1;h>=1&&c>=0&&s[h]!==m[c];)c--;for(;h>=1&&c>=0;h--,c--)if(s[h]!==m[c]){if(h!==1||c!==1)do if(h--,c--,c<0||s[h]!==m[c]){var _=`\n`+s[h].replace(\" at new \",\" at \");return e.displayName&&_.includes(\"<anonymous>\")&&(_=_.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&S.set(e,_),_}while(h>=1&&c>=0);break}}}finally{W=!1,M.current=l,We(),Error.prepareStackTrace=d}var D=e?e.displayName||e.name:\"\",ge=D?T(D):\"\";return typeof e==\"function\"&&S.set(e,ge),ge}function He(e,t,r){return de(e,!1)}function $e(e){var t=e.prototype;return!!(t&&t.isReactComponent)}function O(e,t,r){if(e==null)return\"\";if(typeof e==\"function\")return de(e,$e(e));if(typeof e==\"string\")return T(e);switch(e){case I:return T(\"Suspense\");case A:return T(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case k:return He(e.render);case C:return O(e.type,t,r);case z:{var i=e,d=i._payload,l=i._init;try{return O(l(d),t,r)}catch{}}}return\"\"}var F=Object.prototype.hasOwnProperty,ue={},le=N.ReactDebugCurrentFrame;function P(e){if(e){var t=e._owner,r=O(e.type,e._source,t?t.type:null);le.setExtraStackFrame(r)}else le.setExtraStackFrame(null)}function Le(e,t,r,i,d){{var l=Function.call.bind(F);for(var o in e)if(l(e,o)){var s=void 0;try{if(typeof e[o]!=\"function\"){var m=Error((i||\"React class\")+\": \"+r+\" type `\"+o+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[o]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw m.name=\"Invariant Violation\",m}s=e[o](t,o,i,r,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(h){s=h}s&&!(s instanceof Error)&&(P(d),f(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",i||\"React class\",r,o,typeof s),P(null)),s instanceof Error&&!(s.message in ue)&&(ue[s.message]=!0,P(d),f(\"Failed %s type: %s\",r,s.message),P(null))}}}var Ue=Array.isArray;function Y(e){return Ue(e)}function Be(e){{var t=typeof Symbol==\"function\"&&Symbol.toStringTag,r=t&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return r}}function qe(e){try{return he(e),!1}catch{return!0}}function he(e){return\"\"+e}function ce(e){if(qe(e))return f(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",Be(e)),he(e)}var R=N.ReactCurrentOwner,Ge={key:!0,ref:!0,__self:!0,__source:!0},be,fe,H;H={};function Je(e){if(F.call(e,\"ref\")){var t=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(t&&t.isReactWarning)return!1}return e.ref!==void 0}function Ke(e){if(F.call(e,\"key\")){var t=Object.getOwnPropertyDescriptor(e,\"key\").get;if(t&&t.isReactWarning)return!1}return e.key!==void 0}function Xe(e,t){if(typeof e.ref==\"string\"&&R.current&&t&&R.current.stateNode!==t){var r=p(R.current.type);H[r]||(f('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',p(R.current.type),e.ref),H[r]=!0)}}function Ze(e,t){{var r=function(){be||(be=!0,f(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",t))};r.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:r,configurable:!0})}}function Qe(e,t){{var r=function(){fe||(fe=!0,f(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",t))};r.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:r,configurable:!0})}}var en=function(e,t,r,i,d,l,o){var s={$$typeof:n,type:e,key:t,ref:r,props:o,_owner:l};return s._store={},Object.defineProperty(s._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(s,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.defineProperty(s,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:d}),Object.freeze&&(Object.freeze(s.props),Object.freeze(s)),s};function nn(e,t,r,i,d){{var l,o={},s=null,m=null;r!==void 0&&(ce(r),s=\"\"+r),Ke(t)&&(ce(t.key),s=\"\"+t.key),Je(t)&&(m=t.ref,Xe(t,d));for(l in t)F.call(t,l)&&!Ge.hasOwnProperty(l)&&(o[l]=t[l]);if(e&&e.defaultProps){var h=e.defaultProps;for(l in h)o[l]===void 0&&(o[l]=h[l])}if(s||m){var c=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;s&&Ze(o,c),m&&Qe(o,c)}return en(e,s,m,d,i,R.current,o)}}var $=N.ReactCurrentOwner,me=N.ReactDebugCurrentFrame;function x(e){if(e){var t=e._owner,r=O(e.type,e._source,t?t.type:null);me.setExtraStackFrame(r)}else me.setExtraStackFrame(null)}var L;L=!1;function U(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===n}function _e(){{if($.current){var e=p($.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function tn(e){{if(e!==void 0){var t=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),r=e.lineNumber;return`\n\nCheck your code at `+t+\":\"+r+\".\"}return\"\"}}var pe={};function an(e){{var t=_e();if(!t){var r=typeof e==\"string\"?e:e.displayName||e.name;r&&(t=`\n\nCheck the top-level render call using <`+r+\">.\")}return t}}function ye(e,t){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var r=an(t);if(pe[r])return;pe[r]=!0;var i=\"\";e&&e._owner&&e._owner!==$.current&&(i=\" It was passed a child from \"+p(e._owner.type)+\".\"),x(e),f('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',r,i),x(null)}}function we(e,t){{if(typeof e!=\"object\")return;if(Y(e))for(var r=0;r<e.length;r++){var i=e[r];U(i)&&ye(i,t)}else if(U(e))e._store&&(e._store.validated=!0);else if(e){var d=Se(e);if(typeof d==\"function\"&&d!==e.entries)for(var l=d.call(e),o;!(o=l.next()).done;)U(o.value)&&ye(o.value,t)}}}function rn(e){{var t=e.type;if(t==null||typeof t==\"string\")return;var r;if(typeof t==\"function\")r=t.propTypes;else if(typeof t==\"object\"&&(t.$$typeof===k||t.$$typeof===C))r=t.propTypes;else return;if(r){var i=p(t);Le(r,e.props,\"prop\",i,e)}else if(t.PropTypes!==void 0&&!L){L=!0;var d=p(t);f(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",d||\"Unknown\")}typeof t.getDefaultProps==\"function\"&&!t.getDefaultProps.isReactClassApproved&&f(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function sn(e){{for(var t=Object.keys(e.props),r=0;r<t.length;r++){var i=t[r];if(i!==\"children\"&&i!==\"key\"){x(e),f(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",i),x(null);break}}e.ref!==null&&(x(e),f(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),x(null))}}function on(e,t,r,i,d,l){{var o=ze(e);if(!o){var s=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(s+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var m=tn(d);m?s+=m:s+=_e();var h;e===null?h=\"null\":Y(e)?h=\"array\":e!==void 0&&e.$$typeof===n?(h=\"<\"+(p(e.type)||\"Unknown\")+\" />\",s=\" Did you accidentally export a JSX literal instead of a component?\"):h=typeof e,f(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",h,s)}var c=nn(e,t,r,d,l);if(c==null)return c;if(o){var _=t.children;if(_!==void 0)if(i)if(Y(_)){for(var D=0;D<_.length;D++)we(_[D],e);Object.freeze&&Object.freeze(_)}else f(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else we(_,e)}return e===g?sn(c):rn(c),c}}var dn=on;q.Fragment=g,q.jsxDEV=dn})()});var Re=B((En,Ee)=>{\"use strict\";Ee.exports=De()});var vn={};fn(vn,{default:()=>wn,frontmatter:()=>pn});var a=mn(Re()),pn={title:\"You (Probably) Don\\u2019t Need an Embedding Database\",description:\"Vector Databases are in vogue, but do you really need one to support your AI powered Search?\",image:\"../../public/blogs/emile-perron-xrVDYZRGdw4-unsplash.jpg\",publishedAt:\"January 30, 2024\",updatedAt:\"February 2, 2024\",author:\"Justin Donaldson\",isPublished:!0,tags:[\"Embedding\",\"Search\",\"Open Source\"]};function ke(u){let n=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",p:\"p\",em:\"em\",h3:\"h3\",h1:\"h1\",ul:\"ul\",li:\"li\",strong:\"strong\",h4:\"h4\"},u.components),{Image:b}=n;return b||gn(\"Image\",!0,\"19:1-25:3\"),(0,a.jsxDEV)(a.Fragment,{children:[(0,a.jsxDEV)(n.h2,{id:\"vector-databases-are-in-vogue-but-do-you-really-need-one-to-support-your-ai-powered-search\",children:[\"Vector Databases are in vogue, but do you really need one to support your AI powered Search?\",(0,a.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#vector-databases-are-in-vogue-but-do-you-really-need-one-to-support-your-ai-powered-search\",children:(0,a.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:15,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:\"If you\\u2019ve been paying attention to the recent advances in Large Language Models (LLM), you\\u2019ve noticed that a whole new crop of startups emerged to provide search over embeddings.\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:17,columnNumber:1},this),`\n`,(0,a.jsxDEV)(b,{src:\"/blogs/vectoDatabaseBrands.png\",width:\"718\",height:\"404\",alt:\"vectoDatabaseBrands\",sizes:\"100vw\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:19,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:(0,a.jsxDEV)(n.em,{children:[\"Vector libraries and databases \",(0,a.jsxDEV)(n.a,{href:\"https://blog.det.life/why-you-shouldnt-invest-in-vector-databases-c0cd3f59d23c\",children:\"source\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:26,columnNumber:33},this)]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:26,columnNumber:1},this)},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:26,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:[\"Search over embeddings is a very different process than search over a database of documents. Embedding search uses a vector space representation of an image or document that has been created by a corresponding model, rather than an inverted index of terms and documents. Search in a vector space is typically handled with \",(0,a.jsxDEV)(n.em,{children:(0,a.jsxDEV)(n.a,{href:\"https://en.wikipedia.org/wiki/K-nearest_neighbors_algorithm_\",children:\"nearest neighbor\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:28,columnNumber:324},this)},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:28,columnNumber:323},this),\" search, which returns the embeddings of the closest records to the target record. This technique is much more intensive to calculate than a simple inverted index lookup, and accordingly databases need to make trade offs for precision/recall in order to provide reasonable performance over large sets of data.\"]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:28,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.h3,{id:\"embedding-databases-for-smaller-datasets\",children:[\"Embedding Databases for Smaller Datasets\",(0,a.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#embedding-databases-for-smaller-datasets\",children:(0,a.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:30,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:\"Here at Hushh we were suprised to realize that there wasn\\u2019t a good option for smaller/portable embeddings for databases. Many modeling tasks rely on smaller and more domain-specific datasets to perform domain-specific tasks. For instance, image recognition models might need to index the products of a given storefront. There may be many thousand products, but often not the millions of products that would necessitate a standalone database. Furthermore, a standalone database would need to be running at all times, incurring a large one-time cost for any sort of embedding search functionality.\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:32,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:\"If one doesn\\u2019t have a lot of data, and doesn\\u2019t want to pay the maintenance fee on hosted embedding search, using an embedding search database is costly overkill, but what are the options?\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:34,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:[\"Many embedding databases and models use python, so accordingly, the embeddings can be exported in the \",(0,a.jsxDEV)(n.a,{href:\"https://docs.python.org/3/library/pickle.html\",children:\"python pickle\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:36,columnNumber:103},this),\" format. However, the pickle format is unsafe, making it a risky bet for production systems.\"]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:36,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:\"JSON formats can also be used for pickling data, but JSON requires all of the embedding data to be decoded and loaded into memory. This process can take a significant amount of time, making it costly to load/unload embedding datasets on the fly.\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:38,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:[(0,a.jsxDEV)(n.a,{href:\"https://msgpack.org/index.html\",children:\"Messagepack\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:40,columnNumber:1},this),\" is another solid option, optimized for speed and portability. Originally, this was the format that we were likely to use. However, in the back of our minds we wondered, can we make it even faster?\"]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:40,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.h1,{id:\"introducing-the-hushh-catalog-format\",children:[\"Introducing The Hushh Catalog Format\",(0,a.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#introducing-the-hushh-catalog-format\",children:(0,a.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:42,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:[\"We introduce the \",(0,a.jsxDEV)(n.em,{children:(0,a.jsxDEV)(n.a,{href:\"https://github.com/hushh-labs/hushh-vibe-catalog\",children:\"Hushh Catalog Format\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:43,columnNumber:19},this)},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:43,columnNumber:18},this),\" \",(0,a.jsxDEV)(n.em,{children:\"(HCF)\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:43,columnNumber:93},this),\", a file format that is optimized for speedy (and lazy) loading of embeddings from disk.\"]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:43,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:[\"To understand the performance benefits of the HCF format, we\\u2019ll use this \",(0,a.jsxDEV)(n.a,{href:\"https://www.kaggle.com/datasets/paramaggarwal/fashion-product-images-small\",children:\"fashion dataset\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:45,columnNumber:74},this),\" comprising ~44K product images, representative of the fashion offerings of a mid-to-large size department store.\"]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:45,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:[\"We\\u2019ll also take figures and data from this \",(0,a.jsxDEV)(n.a,{href:\"https://github.com/hushh-labs/hushh-vibe-catalog/blob/main/notebooks/Create%20Catalog.ipynb\",children:\"data science notebook\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:47,columnNumber:44},this),\" that contains the result of the analysis.\"]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:47,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:\"React, developed by Facebook (now Meta), is a flexible library for building user interfaces. It focuses on the view layer, providing a simple and efficient way to create interactive components.\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:49,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.h2,{id:\"comparisons\",children:[\"Comparisons\",(0,a.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#comparisons\",children:(0,a.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:51,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:\"For the purposes of comparison, we\\u2019ll generate embedding vectors in three different formats:\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:52,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.ul,{children:[`\n`,(0,a.jsxDEV)(n.li,{children:[(0,a.jsxDEV)(n.strong,{children:\"JSON\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:54,columnNumber:3},this),\": A popular option for web development due to it being human-readable\"]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:54,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.li,{children:[(0,a.jsxDEV)(n.strong,{children:\"Msgpack\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:55,columnNumber:3},this),\": A schema-less binary format that is a good option for smaller/faster serialization\"]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:55,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.li,{children:[(0,a.jsxDEV)(n.strong,{children:\"Hushh Catalog Format\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:56,columnNumber:3},this),\": A format with a schema designed especially for storing product information and metadata.\"]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:56,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:54,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.h3,{id:\"file-size\",children:[\"File Size\",(0,a.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#file-size\",children:(0,a.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:58,columnNumber:1},this),`\n`,(0,a.jsxDEV)(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",minHeight:\"50vh\"},children:(0,a.jsxDEV)(b,{src:\"/blogs/fileSizeVector.png\",width:518,height:304,alt:\"Image\",sizes:\"80vw\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:67,columnNumber:3},this)},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:59,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.h3,{id:\"file-size-comparison\",children:[\"File Size Comparison\",(0,a.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#file-size-comparison\",children:(0,a.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:75,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:\"File sizes for smaller/embedded databases can add a lot of overhead for search. In our first comparison we look at the file size from our example dataset and see that HCF is half the size of messagepack, and a less than 25% the size of a comparable json format.\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:76,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:\"File size matters a lot for databases, particularly since files like messagepack and json need to be loaded fully into memory. If you have a bigger file format, your program will use more memory to store it internally, which adds overhead for resource usage and time.\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:78,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.h3,{id:\"loading-time-comparison\",children:[\"Loading Time Comparison\",(0,a.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#loading-time-comparison\",children:(0,a.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:80,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:\"Interestingly enough, the file size difference becomes even more pronounced when the loading time is compared. The HCF format is a whopping 20,000 times faster at loading the embedding data than JSON, and also beats msgpack by over an order of magnitude.\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:81,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:(0,a.jsxDEV)(n.em,{children:(0,a.jsxDEV)(n.strong,{children:\"How is this possible?\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:83,columnNumber:2},this)},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:83,columnNumber:1},this)},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:83,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:\"The answer is that the Hushh Catalog Format reader doesn\\u2019t read in the data all at once. Instead, it streams it in as necessary directly from disk without needing to parse the entire file. This technique of lazy loading enables the Hushh Catalog Format to all but eliminate a startup delay when loading embedding data.\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:85,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:(0,a.jsxDEV)(n.em,{children:(0,a.jsxDEV)(n.strong,{children:\"What was used to build the Hushh Catalog Format?\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:87,columnNumber:2},this)},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:87,columnNumber:1},this)},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:87,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:[\"The Hushh Catalog Format is built on top of \",(0,a.jsxDEV)(n.a,{href:\"https://flatbuffers.dev/\",children:\"flatbuffers\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:89,columnNumber:45},this),\". Flatbuffers is similar to \",(0,a.jsxDEV)(n.a,{href:\"https://protobuf.dev/\",children:\"protobuffers\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:89,columnNumber:112},this),\", except it\\u2019s designed for larger amounts of data that can be streamed lazily. Flatbuffers excel at loading densely packed numeric and textual data in a structured format. The structured format requires a schema, and here\\u2019s the current \",(0,a.jsxDEV)(n.a,{href:\"https://github.com/hushh-labs/hushh-vibe-catalog/blob/main/schemas/hushh-catalog.fbs\",children:\"schema for Hushh Catalog Format\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:89,columnNumber:385},this)]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:89,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:[\"Using the schema, we can use flatbuffers to generate python \",(0,a.jsxDEV)(n.a,{href:\"https://github.com/hushh-labs/hushh-vibe-catalog/blob/main/python/src/hushh/hcf/Catalog.py\",children:\"runtime classes\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:91,columnNumber:61},this),\" that stream the file into memory, along with some \",(0,a.jsxDEV)(n.a,{href:\"https://github.com/hushh-labs/hushh-vibe-catalog/blob/main/python/src/hushh/catalog.py\",children:\"helper constructor methods\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:91,columnNumber:221},this),\". There\\u2019s runtime classes for \",(0,a.jsxDEV)(n.a,{href:\"https://github.com/hushh-labs/hushh-vibe-catalog/blob/main/swift/Sources/hushh-catalog_generated.swift\",children:\"Swift\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:91,columnNumber:367},this),\" available as well, with more to come.\"]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:91,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.h2,{id:\"what-can-you-do-with-the-hushh-catalog-format\",children:[\"What can you do with the Hushh Catalog Format?\",(0,a.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#what-can-you-do-with-the-hushh-catalog-format\",children:(0,a.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:93,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:\"For now, the format is geared towards providing catalog search services. Accordingly, information pertaining to products are supported. As we expand the scope of the format, we will enable more fine-tuned schemas for a growing number of open source personal data formats.\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:95,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.h4,{id:\"vibe-search\",children:[\"Vibe Search\",(0,a.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#vibe-search\",children:(0,a.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:97,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:\"We\\u2019re using the HCF format as a way of providing portable embedding indexes that are available from the phone or from a web server. Our Vibe search service will use it under the hood, making state of the art embedding search more easily available to everyone!\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:98,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.h2,{id:\"related-reading\",children:[\"Related Reading\",(0,a.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#related-reading\",children:(0,a.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:100,columnNumber:1},this),`\n`,(0,a.jsxDEV)(n.p,{children:[\"If you\\u2019re interested in optimized file protocols specifically for machine learning artifacts, check this \",(0,a.jsxDEV)(n.a,{href:\"https://vickiboykis.com/2024/02/28/gguf-the-long-way-around/\",children:\"overview of GGUF by Vicki Boykis\"},void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:101,columnNumber:106},this),\".\"]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:101,columnNumber:1},this)]},void 0,!0,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\",lineNumber:1,columnNumber:1},this)}function yn(u={}){let{wrapper:n}=u.components||{};return n?(0,a.jsxDEV)(n,Object.assign({},u,{children:(0,a.jsxDEV)(ke,u,void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this)}),void 0,!1,{fileName:\"D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx\"},this):ke(u)}var wn=yn;function gn(u,n,b){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+u+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(b?\"\\nIt\\u2019s referenced in your code at `\"+b+\"` in `D:\\\\hushh-website-deployed\\\\hushh_website\\\\content\\\\_mdx_bundler_entry_point-aab06636-4fb4-431c-a5b7-97e9196dc379.mdx`\":\"\"))}return _n(vn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
  },
  "_id": "you_dont_need_a_vector_database/index.mdx",
  "_raw": {
    "sourceFilePath": "you_dont_need_a_vector_database/index.mdx",
    "sourceFileName": "index.mdx",
    "sourceFileDir": "you_dont_need_a_vector_database",
    "contentType": "mdx",
    "flattenedPath": "you_dont_need_a_vector_database"
  },
  "type": "Blog",
  "url": "/blogs/you_dont_need_a_vector_database",
  "readingTime": {
    "text": "6 min read",
    "minutes": 5.105,
    "time": 306300,
    "words": 1021
  },
  "toc": [
    {
      "level": "two",
      "text": "Vector Databases are in vogue, but do you really need one to support your AI powered Search?",
      "slug": "vector-databases-are-in-vogue-but-do-you-really-need-one-to-support-your-ai-powered-search"
    },
    {
      "level": "three",
      "text": "Embedding Databases for Smaller Datasets",
      "slug": "embedding-databases-for-smaller-datasets"
    },
    {
      "level": "one",
      "text": "Introducing The Hushh Catalog Format",
      "slug": "introducing-the-hushh-catalog-format"
    },
    {
      "level": "two",
      "text": "Comparisons",
      "slug": "comparisons"
    },
    {
      "level": "three",
      "text": "File Size",
      "slug": "file-size"
    },
    {
      "level": "three",
      "text": "File Size Comparison",
      "slug": "file-size-comparison"
    },
    {
      "level": "three",
      "text": "Loading Time Comparison",
      "slug": "loading-time-comparison"
    },
    {
      "level": "two",
      "text": "What can you do with the Hushh Catalog Format?",
      "slug": "what-can-you-do-with-the-hushh-catalog-format"
    },
    {
      "level": "three",
      "text": "Vibe Search",
      "slug": "vibe-search"
    },
    {
      "level": "two",
      "text": "Related Reading",
      "slug": "related-reading"
    }
  ]
}